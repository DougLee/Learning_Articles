## 三种大数据环境搭建:

单机Hadoop

Hadoop集群

CDH集群

## CDH介绍

Cloudera公司的Hadoop版本, Cloudera's Distribution Including Apache Hadoop

## 环境搭建

三台机器

###设置IP

###关闭防火墙

### 设置免密登录

```bash
# 1. 生成公钥
ssh-keygen -t rsa
# 2. 拷贝到三台机器上
ssh-copy-id root@master
ssh-copy-id root@slave1
ssh-copy-id root@slave2

# 3. 验证登录是否成功
ssh slave1 可以直接登录
```

### 设置NTP时间同步服务

```bash
yum install -y ntp

## 设置开启启动ntp
systemctl enable ntpd

## 启动ntp
systemctl start ntpd
# 查看NTP状态
ntpstat

服务端设置



客户端设置


```

### 安装mysql

CentOS 7 自带的是mariadb, 需要先卸载掉

```bash
rpm -qa | grep mariadb
rpm -e --nodeps mariadb-libs-5.5.52-1.el7.x86_64
```

安装mysql

```bash
wget http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm
rpm -ivh mysql-community-release-el7-5.noarch.rpm
yum install mysql-community-server
```

安装完成后重启mysql服务即可

```bash
service mysqld restart
```

```bash
# 为mysql root用户密码
set password for 'root'@'localhost' = password('root');
# mysql 默认的配置文件在/etc/my.cnf

# 配置允许远程连接
grant all privileges on *.* to 'root'@'%' identified by 'root';
flush privileges;
```













## 上传安装文件

### CentOS7 安装rpm版本的jdk

* 下载
* yum -y install jdk.rpm
* java -version 检查是否安装成功
* 设置环境变量(rpm jdk安装路径 /usr/java下)

```
export JAVA_HOME=/usr/java/jdk1.8.0_131
export PATH=$JAVA_HOME/bin:$PATH
export CLASSPATH=."$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar

```

vi /etc/profile

source /etc/profile

echo $JAVVA_HOME





centos要下载el7的



## 用到的命令

```bash
scp -r ./* root@slave1:/usr/hadoop.xxx/etc/hadoop
```



参考链接:

http://archive.cloudera.com/cm5/cm/5/

http://archive.cloudera.com/cdh5/parcels/5.14/





